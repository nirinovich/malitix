.catapultArm {
  animation: catapultArm 5s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
  transform-origin: 120px 280px;
  backface-visibility: hidden;
}

.phoneLaunch {
  animation: phoneArc 5s linear infinite;
  transform-origin: 120px 110px;
  backface-visibility: hidden;
}

.targetGlow {
  animation: targetGlow 5s ease-in-out infinite;
  transform-origin: 405px 130px;
}

.successText {
  animation: successFadeIn 5s ease-in-out infinite;
  opacity: 0;
}

.paused {
  animation-play-state: paused;
}

/* Arm swing: 4s duration */
@keyframes catapultArm {
  0%, 5% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-95deg);
  }
  30% {
    transform: rotate(-95deg);
  }
  40% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

/* Phone trajectory: 4s duration - shock at launch, then smooth 180° rotation */
@keyframes phoneArc {
  0% {
    opacity: 0;
    transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
  }
  
  32% {
    opacity: 0;
    transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
  }
  
  /* Pre-launch - visible but not moving */
  35% {
    opacity: 0.5;
    transform: translate3d(3px, -3px, 0) rotateZ(0deg) scale(1);
  }
  
  /* SHOCK at launch - sudden rotation jolt from catapult */
  37% {
    opacity: 1;
    transform: translate3d(12px, -12px, 0) rotateZ(-45deg) scale(1);
  }
  
  /* After shock - smooth continuous rotation from 45° to 180° */
  42% {
    opacity: 1;
    transform: translate3d(32px, -40px, 0) rotateZ(-63deg) scale(0.998);
  }
  
  47% {
    opacity: 1;
    transform: translate3d(55px, -75px, 0) rotateZ(-81deg) scale(0.998);
  }
  
  /* Peak of arc */
  52% {
    opacity: 1;
    transform: translate3d(100px, -150px, 0) rotateZ(-99deg) scale(0.99);
  }
  
  /* Continuing smooth rotation */
  57% {
    opacity: 0.98;
    transform: translate3d(125px, -160px, 0) rotateZ(-117deg) scale(0.989);
  }
  
  /* Mid-descent */
  62% {
    opacity: 0.95;
    transform: translate3d(150px, -145px, 0) rotateZ(-135deg) scale(0.985);
  }
  
  67% {
    opacity: 0.8;
    transform: translate3d(170px, -130px, 0) rotateZ(-153deg) scale(0.97);
  }
  
  /* Lower descent - approaching 180° */
  72% {
    opacity: 0.7;
    transform: translate3d(200px, -95px, 0) rotateZ(-162deg) scale(0.96);
  }
  
  /* Further descent */
  76% {
    opacity: 0.6;
    transform: translate3d(225px, -65px, 0) rotateZ(-171deg) scale(0.945);
  }
  
  80% {
    opacity: 0.5;
    transform: translate3d(250px, -40px, 0) rotateZ(-180deg) scale(0.93);
  }
  
  /* Final descent - maintain 180° flip */
  85% {
    opacity: 0.3;
    transform: translate3d(280px, -15px, 0) rotateZ(-180deg) scale(0.91);
  }
  
  92% {
    opacity: 0.1;
    transform: translate3d(300px, 10px, 0) rotateZ(-180deg) scale(0.9);
  }
  
  100% {
    opacity: 0;
    transform: translate3d(310px, 20px, 0) rotateZ(-180deg) scale(0.9);
  }
}

/* Target glow animation - synced with phone landing */
@keyframes targetGlow {
  0% {
    filter: drop-shadow(0 0 0px rgba(44, 163, 189, 0));
  }
  
  /* Wait for phone to land */
  80% {
    filter: drop-shadow(0 0 0px rgba(44, 163, 189, 0));
  }
  
  /* Glow starts building */
  85% {
    filter: drop-shadow(0 0 12px rgba(44, 163, 189, 0.8)) drop-shadow(0 0 20px rgba(44, 163, 189, 0.5));
  }
  
  /* Stronger glow */
  90% {
    filter: drop-shadow(0 0 20px rgba(44, 163, 189, 1)) drop-shadow(0 0 35px rgba(44, 163, 189, 0.7));
  }
  
  /* Peak glow - very prominent */
  95% {
    filter: drop-shadow(0 0 28px rgba(44, 163, 189, 1)) drop-shadow(0 0 50px rgba(44, 163, 189, 0.8)) drop-shadow(0 0 70px rgba(44, 163, 189, 0.5));
  }
  
  100% {
    filter: drop-shadow(0 0 0px rgba(44, 163, 189, 0));
  }
}

/* Success text animation - appears only when phone lands */
@keyframes successFadeIn {
  0% {
    opacity: 0;
  }
  
  /* Wait for phone to land at ~80% */
  80% {
    opacity: 0;
  }
  
  /* Text fades in as phone lands */
  82% {
    opacity: 0.3;
  }
  
  85% {
    opacity: 1;
  }
  
  /* Stay visible briefly */
  95% {
    opacity: 1;
  }
  
  /* Fade out before loop */
  100% {
    opacity: 0;
  }
}

@media (prefers-reduced-motion: reduce) {
  .catapultArm,
  .phoneLaunch,
  .targetGlow,
  .successText {
    animation: none;
  }
}
